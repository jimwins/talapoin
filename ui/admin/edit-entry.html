{% extends 'layout.html' %}

{% block title %}
  edit entry
{% endblock %}

{% block content %}

<p>
  <a href="{{ url_for('admin') }}">&larr; Back to admin</a>
</p>

<form class="stacked" method="POST" action="{{ url_for('editEntry', entry.id ? { id: entry.id } : {}) }}">
  <label>
    Title
    <input type="text" name="title" value="{{ entry.title | e('html_attr') }}">
  </label>

  <label>
    Entry
    <textarea name="entry" rows="10">{{ entry.entry }}</textarea>
  </label>

  <label>
    Toot
    <textarea name="toot" rows="3">{{ entry.toot }}</textarea>
  </label>

  <label>
    Tags
    <input type="text" name="tags" value="{{ entry.tags | join(', ') | e('html_attr') }}">
  </label>

  <label class="block">
    <input type="checkbox" name="draft" value="1" {{ entry.draft ? 'checked' }}> draft
  </label>

  <button type="submit">
    Save
  </button>
</form>

{{ include('entry.twig') }}

{% endblock %}
